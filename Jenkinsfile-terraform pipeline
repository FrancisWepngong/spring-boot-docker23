pipeline{
agent terraform
stages{
stage(‘1Clone terraformCode’){
steps{
sh “git clone https/FrancisWepngong/terraform”
}
}
stage(‘2plan’){
steps{
terraform init
terraform validate
terraform fmt
terraform plan
}
}
stage(‘3create’){
steps{
terraform apply --auto-approve
}
}
stage(‘4UploadArtifacts’){
steps{
sh “echo upload to nexus”
}
}
post{
success{ mail bcc: 'moro.henry@myyahoo.com', body: '''Artifacts uploaded to nexus
	spring-boot-docker23 ''',
failure{mail bcc: 'ndifrancis@outlook.com', body: '''Artifacts failed to upload to nexus
	spring-boot-docker23 ''',
}
}
